<html>
  <body>
    <form onsubmit="saveToLocalStorage(event)">
      <label> Name</label>
      <input type="text" name="username" required/>
      <label> EmailId</label>
      <input type="email" name="emailId" required/>
      <label> Phone Number</label>
      <input type="tel" name="phonenumber" />
      <button> Submit </button>
    </form>
<ul id='listOfUsers'></ul>
<script>
  function saveToLocalStorage(event){
     event.preventDefault();
     const name = event.target.username.value;
     const email = event.target.emailId.value;
     const phonenumber = event.target.phonenumber.value;
     //localStorage.setItem ('name',name);
     //localStorage.setItem ('email',email);
     //localStorage.setItem ('phonenumber',phonenumber);
     const Obj = {
     name,
     email,
     phonenumber
   }
  localStorage.setItem(Obj.email,JSON.stringify(Obj))
   showNewUserOnScreen(Obj)
   }
    window.addEventListener("DOMContentLoaded", () => {
      const localStorageObj = localStorage;
      const localstoragekeys = Object.keys(localStorageObj)

      for (var i=0; i< localstoragekeys.length; i++){
        const key = localstoragekeys[i]
        const userDetailsString = localStorageObj[key];
        const userDetailsObj = JSON.parse(userDetailsString)
        showNewUserOnScreen(userDetailsObj)
      }
   })

   function showNewUserOnScreen(user) {
     //console.log(localStorage.getItem(user.emailId))
     if(localStorage.getItem(user.email) !== null){
       removeUserFromScreen(user.email)
     }
     const parentNode = document.getElementById('listOfUsers');
     const childHTML = `<li> ${user.name} - ${user.email} </li>`
     parentNode.innerHTML = parentNode.innerHTML + childHTML;  
   }

   function deleteUser(emailId){
     console.log(emailId)
     localStorage.removeItem(emailId);
     removeUserFromScreen(emailId);
   }
   function removeUserFromScreen(emailId){
    const parentNode = document.getElementById('listOfUser')
       const childNodeToBeDeleted = document.getElementById('listOfUser')
       if(childNodeToBeDeleted) {
         parentNode.removeChild(childNodeToBeDeleted)
       }
  }
  </script>
</body>
</html>